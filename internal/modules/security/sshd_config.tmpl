# SSH Server Configuration
# Generated by Phanes - Do not edit manually

# Port configuration
Port {{.SSHPort}}

# Disable root login
PermitRootLogin no

# Password authentication
PasswordAuthentication {{if .AllowPasswordAuth}}yes{{else}}no{{end}}

# Public key authentication
PubkeyAuthentication yes

# PAM authentication (required for account checks on Ubuntu/Debian)
# Without this, locked accounts (no password) cannot use pubkey auth
UsePAM yes

# Disable challenge-response authentication
ChallengeResponseAuthentication no

# Disable keyboard-interactive authentication
KbdInteractiveAuthentication no

# Disable empty passwords
PermitEmptyPasswords no

# Maximum authentication attempts
MaxAuthTries 3

# Client alive interval (300 seconds = 5 minutes)
ClientAliveInterval 300
ClientAliveCountMax 2

# Disable X11 forwarding
X11Forwarding no

# Disable agent forwarding
AllowAgentForwarding no

# Disable TCP forwarding
AllowTcpForwarding no

# Protocol version
Protocol 2

# Logging
SyslogFacility AUTH
LogLevel INFO

# Banner (optional - can be configured separately)
#Banner /etc/issue.net

