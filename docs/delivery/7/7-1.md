# 7-1 Update DevTools config

[Back to task list](./tasks.md)

## Description

Update the DevTools configuration structure in `internal/config/config.go` to add an `Enabled` flag and tool-specific configuration options for Node.js version, Python version, Go version, and uv installation flag.

## Status History

| Timestamp | Event Type | From Status | To Status | Details | User |
|-----------|------------|-------------|-----------|---------|------|
| 2025-01-27 00:00:00 | Created | N/A | Proposed | Task file created | sean |
| 2025-01-27 00:00:00 | Status Change | Proposed | InProgress | Started implementation | sean |
| 2025-01-27 00:00:00 | Status Change | InProgress | Review | Implementation complete, tests passing | sean |
| 2025-01-27 00:00:00 | Status Change | Review | Done | Task completed and verified | sean |

## Requirements

1. Update `DevTools` struct in `internal/config/config.go`:
   - Add `Enabled bool` field with yaml tag `enabled`
   - Add `NodeVersion string` field with yaml tag `node_version` (e.g., "22" for LTS)
   - Add `PythonVersion string` field with yaml tag `python_version` (e.g., "3" for system default)
   - Add `GoVersion string` field with yaml tag `go_version` (e.g., "1.24" for latest stable)
   - Add `InstallUv bool` field with yaml tag `install_uv` (install uv package manager)

2. Update `DefaultConfig()` function:
   - Set `DevTools.Enabled` to `true`
   - Set `DevTools.NodeVersion` to `"22"` (LTS)
   - Set `DevTools.PythonVersion` to `"3"` (system default)
   - Set `DevTools.GoVersion` to `"1.24"` (latest stable at time of implementation)
   - Set `DevTools.InstallUv` to `true`

3. Ensure backward compatibility:
   - Existing config files without these fields should use defaults
   - YAML unmarshaling should handle missing fields gracefully

## Implementation Plan

1. Open `internal/config/config.go`
2. Locate `DevTools` struct definition
3. Add new fields with appropriate yaml tags
4. Update `DefaultConfig()` to set defaults for new fields
5. Verify config still compiles and tests pass

## Verification

1. Config struct compiles without errors
2. Default values are set correctly
3. YAML unmarshaling handles missing fields (backward compatible)
4. Config validation still works

## Files Modified

- `internal/config/config.go` (updated) - Add Enabled flag and tool-specific options to DevTools struct
- `internal/config/config_test.go` (updated) - Update tests to match new DevTools defaults
- `docs/api-specs/infrastructure/infrastructure-api.md` (updated) - Update DevTools struct documentation and defaults

