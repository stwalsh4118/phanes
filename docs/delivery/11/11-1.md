# 11-1 Add Tailscale Configuration Struct

[Back to task list](./tasks.md)

## Description

Add Tailscale configuration struct to `internal/config/config.go` with Enabled and AuthKey fields, following the existing config patterns.

## Status History

| Timestamp | Event Type | From Status | To Status | Details | User |
|-----------|------------|-------------|-----------|---------|------|
| 2025-01-27 00:00:00 | Created | N/A | Proposed | Task file created | sean |

## Requirements

1. Add `Tailscale` field to main `Config` struct in `internal/config/config.go`
2. Define `Tailscale` struct with:
   - `Enabled bool` - Whether to install Tailscale
   - `AuthKey string` - Tailscale auth key for authentication
3. Add defaults in `DefaultConfig()` (Enabled: false, AuthKey: "")
4. Add validation in `Validate()`: if Tailscale.Enabled is true, AuthKey must be non-empty and start with `tskey-`

## Implementation Plan

1. Add `Tailscale Tailscale` field to `Config` struct
2. Create `Tailscale` struct type with `Enabled` and `AuthKey` fields
3. Add YAML tags (`yaml:"enabled"`, `yaml:"auth_key"`)
4. Add documentation comments following existing patterns
5. Add default values in `DefaultConfig()` function
6. Add validation logic in `Validate()` function to check auth key format when enabled

## Verification

1. Config struct compiles without errors
2. Default values are correctly set
3. Validation correctly checks auth key format when Tailscale is enabled
4. Documentation comments are clear and follow existing patterns

## Files Modified

- `internal/config/config.go` - Add Tailscale struct and configuration

